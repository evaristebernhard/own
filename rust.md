# 简易区块链系统

## 项目概述

这是一个用Rust实现的简易区块链系统，展示了区块链技术的核心概念，包括区块结构、挖矿机制、交易签名验证、钱包管理等功能。该项目适合用于学习区块链的基本原理和Rust编程。

## 功能特点

- **区块链结构**: 实现了基于区块的链式数据结构，每个区块包含多笔交易
- **工作量证明**: 使用SHA-256哈希算法实现挖矿机制，支持可调整难度
- **交易系统**: 支持创建、签名和验证交易
- **钱包管理**: 基于ED25519实现的数字钱包，支持创建、保存和加载钱包
- **余额查询**: 能够计算和显示每个钱包的当前余额
- **持久化存储**: 支持将区块链数据和钱包信息保存到文件
- **命令行界面**: 提供友好的交互式命令行界面

## 技术实现

- **密码学**: 使用ED25519进行数字签名，SHA-256进行哈希计算
- **默克尔树**: 实现简单的交易默克尔根生成
- **序列化**: 使用Serde进行数据序列化和反序列化
- **持久化**: 文件系统存储区块链和钱包数据
- **并发处理**: 安全处理交易验证和区块生成

## 项目结构

```
blockchain/
├── Cargo.toml         # 项目依赖配置
├── README.md          # 项目说明文档
└── src/
    ├── block.rs       # 区块结构定义及挖矿逻辑
    ├── blockchain.rs  # 区块链核心功能实现
    ├── transaction.rs # 交易结构和验证逻辑
    ├── wallet.rs      # 钱包创建和管理
    ├── persistence.rs # 数据持久化功能
    └── main.rs        # 主程序和命令行界面
```

## 环境依赖

- Rust 1.54.0 或更高版本
- 以下Rust crates:
  - `chrono`: 时间处理
  - `sha2`: SHA-256 哈希计算
  - `ed25519-dalek`: 数字签名
  - `rand`: 随机数生成
  - `base64`: 编码/解码
  - `serde` & `serde_json`: 序列化/反序列化

## 安装和运行

1. 确保已安装Rust环境:
   ```bash
   curl https://sh.rustup.rs -sSf | sh
   ```

2. 克隆项目:
   ```bash
   git clone https://github.com/henryhello/blockchain.git
   cd blockchain
   ```

3. 编译和运行:
   ```bash
   cargo build
   cargo run
   ```

## 使用指南

程序启动后，您将看到一个交互式菜单，提供以下选项:

1. **创建新钱包**: 创建一个新的数字钱包
2. **加载已有钱包**: 从存储中加载已有钱包
3. **列出所有钱包**: 显示所有可用钱包
4. **查看区块链**: 查看当前区块链状态和所有区块
5. **创建新交易**: 创建一笔从当前钱包到指定接收者的交易
6. **挖掘待处理交易**: 将待处理交易打包到新区块并挖矿
7. **验证区块链**: 检查整个区块链的完整性和有效性
8. **保存区块链**: 将当前区块链状态保存到文件
9. **显示当前钱包详情**: 查看当前活跃钱包的详细信息和交易记录
0. **退出**: 退出程序

## 示例流程

1. 创建两个钱包: "Alice" 和 "Bob"
2. 使用 "Alice" 钱包挖矿获得奖励
3. 从 "Alice" 向 "Bob" 发送一些代币
4. 再次挖矿确认交易
5. 查看 "Bob" 钱包余额验证接收到的代币

## 教育价值

通过学习和使用本项目，您可以理解:

- 区块链的基本数据结构和运作机制
- 工作量证明共识算法的实现原理
- 数字签名在区块链中的应用
- 交易验证和处理流程
- 去中心化系统的基本设计理念

## 局限性

作为教育项目，该实现有一些简化:

- 没有实现P2P网络通信
- 安全性未达到生产标准
- 没有实现智能合约功能
- 性能优化有限

## 未来扩展

该项目可以进一步扩展以包含:

- P2P网络层实现
- 更高效的默克尔树实现
- 权益证明(PoS)等替代共识机制
- 简单智能合约支持
- Web界面
- 更多加密货币功能(如UTXO模型)

## 贡献

欢迎提交问题和改进建议。如果您想贡献代码，请先开issue讨论您想实现的功能。

## 许可

本项目采用MIT许可证。详情请见[LICENSE](LICENSE)文件。